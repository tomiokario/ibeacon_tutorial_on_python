## iOSにおけるiBeaconスキャンの制限

### 1. **バックグラウンドでのスキャン制限**

* iOSでは、アプリがバックグラウンドにある場合、BLEスキャンの頻度が制限されます。
* 具体的には、バックグラウンドでのスキャンは間引かれ、アドバタイズメントの検出が遅れる可能性があります。

### 2. **iBeaconの送信制限**

* iOSでは、アプリがバックグラウンドにある場合、iBeaconとしてのアドバタイズメント送信が制限されます。
* アプリがフォアグラウンドからバックグラウンドに移行すると、最大3分間は送信が許可されますが、その後は制限されます。

### 3. **CoreBluetoothの制限**

* CoreBluetoothを使用してiBeaconをスキャンする場合、iBeaconのUUID、Major、Minorなどの情報は取得できません。
* これは、AppleがiBeaconのデータをフィルタリングしているためです。

### 4. **スキャン間隔の非公開**

* iOSでは、BLEスキャンのオン/オフの間隔（スキャンウィンドウとスキャンインターバル）は公開されていません。
* そのため、アドバタイズメントの検出頻度はデバイスの状態やOSのバージョンによって異なります。

---

## 開発時の注意点と対策

1. **スキャン時間の延長**: スキャン時間を延ばすことで、アドバタイズメントを受信する可能性が高まります。

2. **アクティブスキャンの利用**: 可能であれば、アクティブスキャンを使用して、追加のデータを取得することができます。

3. **デバイスの近接配置**: スキャン対象のデバイスをiOSデバイスに近づけることで、信号強度が増し、検出率が向上します。

4. **ログの活用**: スキャン時のログを詳細に記録し、どのようなアドバタイズメントが受信されているかを分析することで、問題の特定が容易になります。
