# RSSIとTX Powerの基礎ドキュメント

## 概要

BLE（Bluetooth Low Energy）やiBeaconの開発において、\*\*RSSI（受信信号強度）**と**TX Power（送信出力の基準値）\*\*は、通信品質や位置推定の基本となる情報です。これらは単体では明確な距離を表すものではありませんが、組み合わせることで「近い／遠い」といった関係性の推定が可能になります。

このドキュメントでは、RSSIとTX Powerの定義、用途、距離推定方法、注意点、および応用事例について簡潔にまとめています。

---

## 1. RSSI（Received Signal Strength Indicator）

### ■ 定義

RSSIは、**BLEデバイスが受信した信号の強さ（電波強度）を示す指標**です。

### ■ 単位

* **dBm（デシベル・ミリワット）**
* 一般的に**負の値**（例：-40, -70, -90）

### ■ 意味

* 値が**0に近いほど強い**（＝近い距離）
* 値が**小さい（マイナスが大きい）ほど弱い**（＝遠い）

| RSSI値 | 状態（目安）       |
| ----- | ------------ |
| -30   | 非常に近い（〜1m未満） |
| -60   | 数メートル圏内      |
| -90   | 遠距離、または遮蔽あり  |

---

## 2. TX Power（Transmit Power）

### ■ 定義

TX Powerは、**iBeaconが1メートルの距離で受信されることを想定したRSSI値**です。

### ■ 単位

* 同じく **dBm**
* 例：`TX Power = -59` → 1mでの想定RSSIが-59

### ■ 用途

TX Powerは、実際のRSSIと比較することで**距離の目安を推定**する基準になります。

---

## 3. RSSIとTX Powerによる距離推定

### ■ 距離推定の概算式（理論モデル）：

$$
\text{距離} ≈ 10^{\frac{(\text{TX Power} - \text{RSSI})}{10 \times n}}
$$

* `n`：環境減衰係数（通常は2.0〜3.0）

### ■ 実例：

```text
TX Power = -59
RSSI     = -70
n        = 2.0

→ 距離 ≈ 10^((11) / 20) ≈ 約3.55メートル
```

※ 実環境では反射・障害物・干渉の影響により大きくばらつくため、精度は限定的です。

---

## 4. 注意点

* RSSI値は時間や環境条件で**大きく変動**します。
* 金属、壁、人間の体などによる**反射や吸収**の影響が大きいです。
* 単一測定では不安定なため、**時間平均**や\*\*フィルタ処理（例：カルマンフィルタ）\*\*を用いるのが一般的です。

---

## 5. 応用シナリオ

| シナリオ    | 使用する情報          | 用途・備考               |
| ------- | --------------- | ------------------- |
| 近接判定    | RSSI            | 一定距離内での通知や動作制御など    |
| 距離の目安推定 | RSSI + TX Power | 簡易な距離推定             |
| 室内位置推定  | 複数RSSI + 三角測量   | BLE測位システム（IPS）の構成要素 |
